# 模块相关

为了编写易维护的代码，我们把很多的函数分组，分别放在不同的文件中，这样每个文件包含的代码就相对较少，很多编程语言都采用这种组织代码的方式。在Python中，一个`.py`文件就称之为一个模块（Module）。

那么，使用模块有什么好处呢？

首先，使用模块最大的好处就是大大提高了代码的可维护性。

其次，编写代码不必从零开始，当一个模块编写完毕，就可以被其他地方引用，我们在编写程序的时候，也经常引用其他模块，包括Python内置的模块和来自第三方的模块。

Python 中模块一般分为三类：

```bash
1、Python 标准库模块
2、第三方模块
3、自定义模块
```

另外，使用模块还可以避免函数名和变量名冲突。相同名字的函数和变量完全可以分别存在不同的模块中，因此，我们自己在编写模块时，不必考虑名字会与其他模块冲突。但是也要注意，尽量不要与内置函数名字冲突。

本节文档主要记录一些 Python 常用的内置模块，主要包括如下模块的用法和技巧：

```bash
1、time
2、os
3、sys
4、json
5、pickle
6、random
7、shelve
8、loging
9、re
10、xml
```

当需要导入某个模块的时候，可以用如下代码导入：

```python
import time
```

如果需要导入多个模块，模块间用逗号分隔：

```python
import time,os,sys
```

同时，导入模块我们也可以用如下方法导入某个模块的某个函数：

```python
from time import name1,name2
```

还有一种导入模块的方式如下所示：

```python
from module_name import *
```

这提供了一个简单的方法来导入一个模块中的所有项目。然而这种声明不该被过多地使用。大多数情况， Python程序员不使用这种方法，因为引入的其它来源的命名，很可能覆盖了已有的定义。

### 包(package)

如果不同的人编写的模块名相同怎么办？为了避免模块名冲突，Python又引入了按目录来组织模块的方法，称为包（Package）。

举个例子，一个`abc.py`的文件就是一个名字叫`abc`的模块，一个`xyz.py`的文件就是一个名字叫`xyz`的模块。

引入了包以后，只要顶层的包名不与别人冲突，那所有模块都不会与别人冲突。现在，`view.py`模块的名字就变成了hello_django.app01`.views`，类似的，manage`.py`的模块名则是hello_django.manage。

请注意，每一个包目录下面都会有一个`__init__.py`的文件，这个文件是必须存在的，否则，Python就把这个目录当成普通目录(文件夹)，而不是一个包。`__init__.py`可以是空文件，也可以有Python代码，因为`__init__.py`本身就是一个模块，而它的模块名就是对应包的名字。

### 关于 `__name__`和 `__main__`

如果我们是直接执行某个.py文件的时候，该文件中那么”__name__ == '__main__'“是True,但是我们如果从另外一个.py文件通过import导入该文件的时候，这时__name__的值就是我们这个py文件的名字而不是__main__。

这个功能还有一个用处：调试代码的时候，在”if __name__ == '__main__'“中加入一些我们的调试代码，我们可以让外部模块调用的时候不执行我们的调试代码，但是如果我们想排查问题的时候，直接执行该模块文件，调试代码能够正常运行！

该方法还有一种使用场景，就是不想被别人调用的时候

### 对于自定义模块

这里有几种导入的方式：

```python
from test1.test2.test3 import cal
from test1.test2.test.cal import add
from test1.test2 import test3 # 错误示例，唯一不支持的调用方式，执行 test3 的init文件
```

